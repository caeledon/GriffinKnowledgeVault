# Протокол API-команд для роботи з GitHub

Цей документ визначає стандартні команди, які Грифон має використовувати для взаємодії з репозиторієм GriffinKnowledgeVault через GitHub API.

---

## 1. Авторизація

- Для всіх запитів використовуй заголовок:
```
Authorization: Bearer [ТОКЕН]
```

- Content-Type:
```
Content-Type: application/json
```

---

## 2. Створення нового файлу

**Метод:** `PUT`

**URL:**
```
https://api.github.com/repos/caeledon/GriffinKnowledgeVault/contents/шлях/до/файлу.md
```

**JSON тіло:**
```json
{
  "message": "Коментар до коміту",
  "content": "Base64-закодований_вміст",
  "branch": "main"
}
```

---

## 3. Оновлення існуючого файлу

**Додатково вимагається SHA існуючого файла.** Отримай його попередньо через `GET` (див. пункт 4).

**Метод:** `PUT`

**JSON тіло:**
```json
{
  "message": "Оновлення файла",
  "content": "Base64-вміст",
  "sha": "існуючий_sha",
  "branch": "main"
}
```

---

## 4. Отримання мета-інформації про файл

**Метод:** `GET`

**URL:**
```
https://api.github.com/repos/caeledon/GriffinKnowledgeVault/contents/шлях/до/файлу.md
```

Відповідь міститиме поле `sha`, яке необхідне для оновлення.

---

## 5. Створення нової папки

GitHub створює нову папку автоматично при створенні файла за новим шляхом:
```
contents/reports/new_file.md → створює папку `reports/`, якщо її ще не існує.
```

---

## 6. Кодування вмісту в Base64

**Пояснення:** GitHub API приймає лише закодований у Base64 вміст файлів.

**Приклад:**
```markdown
# Тестовий документ
```
→ Base64:
```
IyBUZXN0b3ZpZCBkb2t1bWVudA==
```

---

## 7. Поведінка при помилках

- Код 400: проблема з JSON — перевірити формат.
- Код 401/403: неправильний або відсутній токен.
- Код 422: файл уже існує або SHA некоректний.

---

✅ Дотримуйся цього протоколу, щоб гарантувати безпечну та керовану взаємодію з репозиторієм GriffinKnowledgeVault.
